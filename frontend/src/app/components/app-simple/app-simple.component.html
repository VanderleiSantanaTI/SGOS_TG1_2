<ion-app>
  <!-- Side Menu -->
  <ion-menu 
    contentId="main-content" 
    type="overlay" 
    [disabled]="!isAuthenticated">
    
    <ion-header>
      <ion-toolbar color="primary">
        <ion-title>SGOS</ion-title>
      </ion-toolbar>
    </ion-header>
    
    <ion-content>
      <!-- User Info -->
      <div class="user-info" *ngIf="currentUser">
        <div class="user-avatar">
          <div class="avatar-circle">
            {{getUserInitials()}}
          </div>
        </div>
        <div class="user-details">
          <h3>{{currentUser.nome_completo}}</h3>
          <p>{{getUserRoleDisplayName()}}</p>
          <small>{{currentUser.email}}</small>
        </div>
      </div>

      <ion-list>
        <!-- Main Menu Items -->
        <ion-item 
          *ngFor="let item of menuItems" 
          button 
          (click)="navigateTo(item.url)">
          <ion-icon [name]="item.icon" slot="start"></ion-icon>
          <ion-label>{{item.title}}</ion-label>
        </ion-item>

        <ion-item-divider>
          <ion-label>Conta</ion-label>
        </ion-item-divider>

        <!-- Profile -->
        <ion-item button (click)="navigateTo('/perfil')">
          <ion-icon name="person-outline" slot="start"></ion-icon>
          <ion-label>Perfil</ion-label>
        </ion-item>

        <!-- Logout -->
        <ion-item button (click)="logout()">
          <ion-icon name="log-out-outline" slot="start"></ion-icon>
          <ion-label>Sair</ion-label>
        </ion-item>
      </ion-list>
    </ion-content>
  </ion-menu>

  <!-- Main Router Outlet -->
  <ion-router-outlet id="main-content"></ion-router-outlet>
</ion-app>
